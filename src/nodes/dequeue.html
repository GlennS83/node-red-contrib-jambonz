<script type="text/javascript">
  RED.nodes.registerType('dequeue',{
      category: 'jambonz',
      color: '#a6bbcf',
      defaults: {
        name: {value: ''},
        queuename: {value: '', required: true},
        actionhook: {value: ''},
        beep: {value: false},
        timeout: {validate:RED.validators.regex(/^\d*$/) },
      },
      inputs:1,
      outputs:1,
      icon: "file.png",
      label: function() { return this.name || 'dequeue';},
  });
</script>

<script type="text/html" data-template-name="dequeue">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-queuename"><i class="icon-tag"></i> Queue</label>
    <input type="text" id="node-input-queuename" placeholder="Queue name">
  </div>
  <div class="form-row">
    <label for="node-input-actionhook"><i class="icon-tag"></i> Action hook</label>
    <input type="text" id="node-input-actionhook" placeholder="webhook to call with results">
  </div>
  <div class="form-row">
    <label for="node-input-beep"><i class="icon-tag"></i>Beep</label>
    <input type="checkbox" id="node-input-beep">
  </div>  
  <div class="form-row">
    <label for="node-input-timeout"><i class="icon-tag"></i> Timeout</label>
    <input type="text" id="node-input-timeout" placeholder="secs to wait for a call in queue">
  </div>
</script>

<script type="text/html" data-help-name="dequeue">
  <p>Bridge to the caller at the front of a queue</p>
</script>
